---
title: atlas env
description: Manage encrypted environment variables
icon: Lock
---

Manage secrets and environment variables for your projects. All values are encrypted at rest with AES-256-GCM.

## Commands

### List secrets

```bash
atlas env list
```

Shows all secret keys (values are hidden).

### Set secrets

```bash
atlas env set DATABASE_URL=postgres://... REDIS_URL=redis://...
```

Sets one or more secrets. Values are encrypted before storage and synced to the Kubernetes cluster.

### Pull secrets

```bash
atlas env pull
```

Downloads decrypted secrets to a local `.env` file.

## How It Works

1. Secrets are encrypted with **AES-256-GCM** via Web Crypto API
2. Encrypted values are stored in the Panel's PostgreSQL database
3. On set, secrets are synced to the Kubernetes cluster as a `Secret` resource
4. The sync uses `kubectl patch` (merge strategy) â€” existing keys are preserved
5. On delete, the specific key is removed from both the database and the K8s Secret

## Security

- Encryption key is stored as a Kubernetes Secret in the Panel namespace
- Secrets are never logged or exposed in API responses (except via `GET /secrets/project/:id/values` with auth)
- All API endpoints require JWT authentication + RBAC authorization
